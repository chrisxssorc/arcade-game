// Initial state
let initialState = {
    canvas: [
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','',''],
        ['','','','','','','','','','','','','','','','','','','','']
    ]
};

// initial snake
let snake = {
    body: [ [10, 2], [10, 3], [10, 4], [10, 5] ],
    nextDirection: [0, 1]
}

// initial score
let gameScore = 0

// builds the initial state that starts the game
function buildInitialState(){
    renderState()
    buildSnake()
    spawnFood()
}

// render the game space
function renderState(){
    const canvasElement = $('#canvas')

    canvasElement.empty()

    initialState.canvas.forEach(function(row, rowIndex){
        row.forEach(function(column, columnIndex){
            const segmentElement = $(`<div class="segment" data-x=${rowIndex} data-y=${columnIndex}></div>`)
            
            canvasElement.append(segmentElement)
        })
    })
}